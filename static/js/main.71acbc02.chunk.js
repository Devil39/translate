(this.webpackJsonponefourthlabstask=this.webpackJsonponefourthlabstask||[]).push([[0],{10:function(e,t,n){e.exports=n(21)},15:function(e,t,n){},16:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(9),s=n.n(o),c=(n(15),n(3)),i=n(4),r=n(6),u=n(5),g=n(7),d=(n(16),n(1)),m=n.n(d),p=(l.a.Component,n(2)),h=n.n(p),b=(n(20),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).downloadCSV=function(){window.open("https://obscure-gorge-36873.herokuapp.com/download?lang=".concat(m.a.load("translateWebsite").lang))},e.replaceAt=function(e,t,n){return e.substr(0,t)+n+e.substr(t+n.length)},e.langChange=function(t){console.log(t.target.value),m.a.save("translateWebsite",JSON.stringify({lang:t.target.value})),e.setState({lang:t.target.value}),document.getElementById("textarea").focus()},e.storeInDatabase=function(t){console.log("<-------------------Yaa here!----------------\x3e"),console.log(JSON.stringify({input:t,transliteration:e.state.translation_list[0],lang:m.a.load("translateWebsite").lang})),fetch("https://obscure-gorge-36873.herokuapp.com/insert",{method:"post",headers:{"Content-type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},body:JSON.stringify({input:t,transliteration:e.state.translation_list[0],lang:m.a.load("translateWebsite").lang})}).then((function(e){return e.json()})).then((function(e){console.log("Data:"+JSON.stringify(e)),e.success&&console.log("Something!")}))},e.fetchCall=function(t,n){return n&&e.setState({disabled:!0}),console.log(e.state.text),console.log("Speaking from fetch, I am sending request for:"+t),new Promise((function(a,l){fetch("".concat("http://146.148.85.67/processWordJSON","?inString=").concat(t,"&lang=").concat(m.a.load("translateWebsite").lang),{method:"get"}).then((function(t){return 200===t.status&&(e.setState({loading:!1}),document.getElementById("textarea").focus()),t})).then((function(e){return e.json()})).then((function(l){var o;console.log(l),console.log(t),console.log(e.state.text),o="object"===typeof e.state.text?e.state.text[0]:e.state.text,l.inString!==t||!o||o?(e.setState({translation:l.itrans}),e.setState({translation_list:l.twords[0].options}),n&&e.setState({disabled:!1}),console.log("Ye wale data ki jarvwat hai mujhe:"+JSON.stringify(l))):(console.log("Yaha pe kuch ho sakta hai:"+t),""!==e.state.text&&e.fetchCall(e.state.text),n&&e.setState({disabled:!1})),a()})).catch((function(t){console.log(t),e.setState({disabled:!1}),document.getElementById("textarea").focus(),l()}))}))},e.translate=function(t){var n,a,l,o,s,c,i,r,u;return h.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(console.log(t.key),"english"!==e.state.lang){g.next=3;break}return g.abrupt("return");case 3:if("Enter"===t.key&&console.log(document.getElementById("textarea").value+"\n"),1!==t.key.length||!(t.key>="a"&&t.key<="z"||t.key>="A"&&t.key<="Z")){g.next=13;break}return e.setState({text:e.state.text+t.key}),console.log(e.state.text),console.log(t.key),console.log("(1)Sending Request for: "+e.state.text+t.key),g.next=11,h.a.awrap(e.fetchCall(e.state.text+t.key));case 11:g.next=66;break;case 13:if(" "!==t.key&&","!==t.key&&"."!==t.key&&"!"!==t.key&&"?"!==t.key&&"Enter"!==t.key&&";"!==t.key&&"?"!==t.key){g.next=35;break}return n=t.key,console.log("Setting the word"),e.setState({text:"",disabled:!0}),a=document.getElementById("textarea").value,l=document.getElementById("textarea").value,document.getElementById("textarea").value.split("\n").splice(-1)[0].split(" ").splice(-2)[0].length,a=e.replaceAt(a,a.length-1," "),s=a.split("\n").splice(-1)[0].split(" ").splice(-2)[0].length,o=a.split(" ")[a.split(" ").length-2],/\r|\n/.exec(a)&&(o=a.split("\n").splice(-1)[0].split(" ").splice(-2)[0]),console.log("(2)Sending Request for: "+o),g.next=27,h.a.awrap(e.fetchCall(o,!0));case 27:return g.next=29,h.a.awrap(e.storeInDatabase(o));case 29:a.split(" ")[a.split(" ").length-2].length+1," "!==n&&"Enter"!==n?(console.log(document.getElementById("textarea").value.substr(0,document.getElementById("textarea").value.length-s-1)),console.log(document.getElementById("textarea").value.substr(0,document.getElementById("textarea").value.length-s)),document.getElementById("textarea").value=document.getElementById("textarea").value.substr(0,document.getElementById("textarea").value.length-s-1)+" "+e.state.translation_list[0]+n+" "):"Enter"===n?(console.log("Entered Pressed!"),console.log(a),console.log(e.state.translation_list[0]),c=a.split(" ").length,console.log(a.split(" ")[c-2]),i=a.split(" "),r=i[c-2].split("\n"),console.log(i),console.log(r),u=r.length,console.log(r[u-1]),r[u-1]=e.state.translation_list[0],console.log(r.join("\n")),i[c-2]=r.join("\n"),console.log(i[c-2]),console.log(i.join(" ")),document.getElementById("textarea").value=i.join(" ")+"\n"):document.getElementById("textarea").value=document.getElementById("textarea").value.substr(0,document.getElementById("textarea").value.length-s-1)+e.state.translation_list[0]+" ",e.setState({translation_list:[]}),document.getElementById("textarea").focus(),g.next=66;break;case 35:if("Backspace"!==t.key){g.next=66;break}if(l=document.getElementById("textarea").value,console.log(l[l.length-1]),console.log(l[l.length-2]),i=l.split(" "),c=i.length,console.log(i),console.log(l.split(" ")[c-1])," "!==l[l.length-1]&&","!==l[l.length-1]&&"."!==l[l.length-1]&&"?"!==l[l.length-1]&&"!"!==l[l.length-1]){g.next=46;break}return e.setState({text:""}),g.abrupt("return");case 46:if(console.log(/\r|\n/.exec(document.getElementById("textarea").value.split(" ").splice(-1)[0])),null===/\r|\n/.exec(document.getElementById("textarea").value.split(" ").splice(-1)[0])){g.next=58;break}if(console.log(/\r|\n/.exec(document.getElementById("textarea").value.split(" ").splice(-1)[0])),1!==/\r|\n/.exec(document.getElementById("textarea").value.split(" ").splice(-1)[0]).length){g.next=58;break}return s=document.getElementById("textarea").value.split("\n").splice(-1)[0].split(" ").splice(-2)[0].length,console.log(document.getElementById("textarea").value.substr(0,document.getElementById("textarea").value.length-s-1)+"\n"+e.state.translation_list[0]+" "),console.log(document.getElementById("textarea").value.split("\n").splice(-1)[0]),l=document.getElementById("textarea").value.split("\n").splice(-1)[0],console.log("(3)Sending Request for: "+l),e.fetchCall(l),e.setState({text:l}),g.abrupt("return");case 58:e.setState({text:document.getElementById("textarea").value}),console.log("Text:"+l.value),l=null!==document.getElementById("textarea")?l.substr(0,l.length).split(" ").splice(-1):"",console.log("(3)Sending Request for: "+l),console.log(typeof l),"object"===typeof l&&(l=l[0]),e.fetchCall(l),e.setState({text:l});case 66:case"end":return g.stop()}}))},e.translateWordChange=function(t){e.setState({translation:t.target.value,text:""});var n=document.getElementById("textarea").value.split(" ");n[n.length-1]=t.target.value,e.setState({text:n.join(" ")});var a=document.getElementById("textarea").value.split("\n").splice(-1)[0].split(" ").splice(-2)[0].length;console.log(n.join(" ")),console.log(/\r|\n/.exec(document.getElementById("textarea").value.split(" ").splice(-1)[0])),console.log(document.getElementById("textarea").value.split("\n").splice(-1)[0].split(" ")),console.log(document.getElementById("textarea").value.substr(0,document.getElementById("textarea").value.length-a-1)+"\n"+e.state.translation_list[0]+" "),console.log(document.getElementById("textarea").value.split(" ")),null!==/\r|\n/.exec(document.getElementById("textarea").value.split(" ").splice(-1)[0])?1===/\r|\n/.exec(document.getElementById("textarea").value.split(" ").splice(-1)[0]).length&&(console.log(n),console.log("\n"+n.join(" ")+" "),document.getElementById("textarea").value=document.getElementById("textarea").value.substr(0,document.getElementById("textarea").value.length-a-1)+"\n"+e.state.translation_list[0]+" ",console.log("Set State 1"),e.setState({text:""})):document.getElementById("textarea").value=n.join(" ")+" ",document.getElementById("textarea").focus(),console.log("Set State 2"),e.setState({translation_list:[],text:""})},e.changeText=function(t){if(t.target.value=document.getElementById("textarea").value,e.setState({text:t.target.value}),8===t.keyCode)return console.log("Backspace"),void console.log(t.key);if(e.state.disabled){var n=t.target.value.split(" ").slice(-1)[0];n.slice(-1);if(""!==n)e.setState({loading:!0,disabled:!1}),console.log("Sending Request!"),fetch("http://146.148.85.67/processWordJSON?inString=".concat(n,"&lang=").concat(m.a.load("translateWebsite").lang),{method:"get"}).then((function(t){return 200===t.status&&(e.setState({loading:!1,disabled:!0}),document.getElementById("textarea").focus()),t})).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({translation:t.itrans}),e.setState({translation_list:t.twords[0].options}),document.getElementById("textarea").value=e.state.text})).catch((function(e){console.log(e)}));else{var a=t.target.value.split(" ");a[a.length-2]=e.state.translation,e.setState({text:a.join(" ")}),document.getElementById("textarea").value=a.join(" ")}}},e.state={text:"",translation:"",loading:!1,translation_list:[],disabled:!1,lang:"hindi"},e}return Object(g.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){m.a.save("translateWebsite",JSON.stringify({lang:"hindi"}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"main-container"},l.a.createElement("div",null,l.a.createElement("div",{className:"currentLangContainer"},"Current Language: ",this.state.lang.toUpperCase()),l.a.createElement("div",{className:"langOption-container"},l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"hindi"},"Hindi"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"tamil"},"Tamil"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"telugu"},"Telugu"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"bengali"},"Bengali"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"gujarati"},"Gujarati"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"marathi"},"Marathi"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"kannada"},"Kannada"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"malayalam"},"Malayalam"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"punjabi"},"Punjabi"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"nepali"},"Nepali"),l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.langChange,value:"english"},"English")),l.a.createElement("div",{className:"textbox-container"},l.a.createElement("textarea",{className:"textbox",id:"textarea",disabled:this.state.disabled,rows:"10",cols:"60",onKeyUp:function(t){e.translate(t)},autoFocus:!0})),l.a.createElement("div",{className:"translation-container"},l.a.createElement("div",null,this.state.loading?l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("button",{type:"button",className:"btn-translation"},"Loading..."))):l.a.createElement("div",{className:"btn-wrapper"},l.a.createElement("p",null,this.state.translations),0!==this.state.translation_list.length?this.state.translation_list.map((function(t){return l.a.createElement("button",{type:"button",id:t,className:"btn-translation",value:t,onClick:e.translateWordChange},t)})):l.a.createElement("button",{type:"button",className:"btn-translation"})))),l.a.createElement("div",{className:"download-btn-container"},l.a.createElement("button",{type:"button",className:"btn-lang",onClick:this.downloadCSV},"Dowload csv for current language"))))}}]),t}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.71acbc02.chunk.js.map